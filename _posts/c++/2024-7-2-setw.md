---
title: 流控制器
---
# Setw
`setw` 是 C++ 中定义在 `<iomanip>` 头文件中的一个 I/O 操作符，用于设置下一个输出字段的宽度,用于格式化输出

## 使用 setw 的基本语法如下：
```cpp
#include <iostream>
#include <iomanip> // 包含 setw 的头文件

int main() {
    std::cout << std::setw(10) << "Hello" << std::endl;
    std::cout << std::setw(10) << "World" << std::endl;
    return 0;
}
```


运行结果：
```
     Hello
     World
```
在这个例子中，`setw(10)` 设置了 ***下一个*** 要输出的字符串的最小宽度为 10 个字符。

如果字符串长度小于 10，那么输出将在**左侧**填充空格，直到总宽度达到 10 个字符。

如果字符串长度大于或等于 10，`setw` 不会截断字符串，而是输出完整的字符串。

## 补充
# Left & Right
```cpp
#include <iostream>
#include <iomanip>
using namespace std;

int main() {
    cout << left << setw(10) << "Alice" << endl; // 左对齐
    cout << right << setw(10) << "Bob" << endl;  // 恢复到右对齐
    return 0;
}
```

输出结果
```
Alice     
       Bob
```
`left`指定该流为左对齐,在右侧填充空格

使用`right`恢复右对齐


### 用其他符号填充
```cpp
cout << setfill('*')<< setw(10) << "Hello";
```
输出结果
```
*****Hello
```
`setfill`中的内容为填充物

# Setprecision
```cpp
#include <iostream>
#include <iomanip> // 包含 setprecision

int main() {
    double pi = 3.141592653589793;
    std::cout << "默认精度: " << pi << std::endl;
    std::cout << std::setprecision(4) << "设置精度为 4: " << pi << std::endl;
    std::cout << std::setprecision(9) << "设置精度为 9: " << pi << std::endl;
    return 0;
}
```
输出结果
```
默认精度: 3.14159
设置精度为 4: 3.142
设置精度为 9: 3.14159265
```
## 特征
- 四舍五入
- 固定总的有效数字位数
- 对后续的所有数输出都有效
- 使用`fixed`之后,`setprecision`将会设置小数点后的位数


# Noskipws
在 C++ 中，标准输入流（如 `cin`）和文件输入流（如 `ifstream`）在读取数据时，默认会忽略空白字符（`whitespace`），如空格、制表符、换行符等。

```cpp
#include <iostream>
#include <fstream>
#include <string>

int main() {
    std::ifstream inFile("example.txt");
    if (!inFile) {
        std::cerr << "Failed to open example.txt for reading.\n";
        return 1;
    }

    char ch;
    while (inFile >> std::noskipws >> ch) { // 使用std::noskipws读取包括空白在内的每个字符
        std::cout << ch;
    }

    inFile.close();
    return 0;
}
```



